execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:white_shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:light_gray_shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:gray_shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:black_shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:brown_shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:red_shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:orange_shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:yellow_shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:lime_shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:green_shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:cyan_shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:light_blue_shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:blue_shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:purple_shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:magenta_shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}
execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_name":'"Card Deck"'},id:"minecraft:pink_shulker_box"}}] run data merge entity @s {Item:{components:{"minecraft:custom_name":'{"text":"Card Deck","italic":false,"color":"aqua"}',"equippable":{slot:"chest","swappable":0b},"minecraft:lore":['{"text":"Wear Instead of Chestplate","italic":false,"color":"dark_red"}']}}}

execute as @e[tag=!updated,type=item,nbt={Item:{components:{"minecraft:custom_name":'{"color":"aqua","italic":false,"text":"Card Deck"}'}}}] run function card:update_deck

execute as @a[scores={card_rightclick=1..},nbt={SelectedItem:{components:{"minecraft:item_model":"minecraft:knowledge_book","minecraft:lore":['{"color":"white","italic":false,"text":"Right Click to Get a Random Card"}'],"minecraft:custom_name":'{"color":"aqua","italic":false,"text":"Booster Pack"}'},count:1,id:"minecraft:carrot_on_a_stick"}}] run function card:roll_card

execute as @e[type=item,nbt={Item:{id:"minecraft:iron_block"}}] at @s if entity @e[type=item,distance=..0.5,nbt={Item:{components:{"minecraft:custom_data":{card_type:"stat",card_strength:1}}}}] run function card:upgrade_cards/stat/upgrade_stat_2
execute as @e[type=item,nbt={Item:{id:"minecraft:gold_block"}}] at @s if entity @e[type=item,distance=..0.5,nbt={Item:{components:{"minecraft:custom_data":{card_type:"stat",card_strength:2}}}}] run function card:upgrade_cards/stat/upgrade_stat_3
execute as @e[type=item,nbt={Item:{id:"minecraft:diamond_block"}}] at @s if entity @e[type=item,distance=..0.5,nbt={Item:{components:{"minecraft:custom_data":{card_type:"stat",card_strength:3}}}}] run function card:upgrade_cards/stat/upgrade_stat_4
execute as @e[type=item,nbt={Item:{id:"minecraft:netherite_block"}}] at @s if entity @e[type=item,distance=..0.5,nbt={Item:{components:{"minecraft:custom_data":{card_type:"stat",card_strength:4}}}}] run function card:upgrade_cards/stat/upgrade_stat_5